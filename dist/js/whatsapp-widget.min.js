/*! whatsapp-widget - v2.0.2 - 2020-12-14 */
"use strict";class Whatsapp{constructor({title:t="Â¿Necesitas ayuda?",description:e="Chatea con nosotros por Whatsapp",agents:a=[],time:s=[]}){this.title=t,this.description=e,this.agents=a,this.time=s,this.isEnabled(this.time)&&this.render()}getAgent({cta:t="",hours:e="",name:a="",phone:s=""}){return`<a href="#" data-phone="${s}" data-title="${a}" class="wa-w_a_a js-owaa" title="${a} ${s}">\n\t\t\t<span class="wa-w_a_a_i"><span class="wa-w-i wa-w-i-cc"></span></span>\n\t\t\t<span class="wa-w_a_a_c">\n\t\t\t\t<span class="a_t">${a}</span>\n\t\t\t\t<span class="a_s">${e}</span>\n\t\t\t\t<span class="a_c">${t}<span class="a_c_i wa-w-i wa-w-i-e"></span></span>\n\t\t\t</span>\n\t\t</a>`}getHeader(){return`<header class="wa-w_h">\n\t\t\t<span class="wa-w_h_t">${this.title}</span>\n\t\t\t<span class="wa-w_h_s">\n\t\t\t\t<span class="wa-w_h_i wa-w-i wa-w-i-w"></span>\n\t\t\t\t${this.description}\n\t\t\t</span>\n\t\t</header>`}getStyles(){return fetch("./dist/css/whatsapp-widget.min.css").then(t=>t.text()).then(t=>`<style>${t}</style>`)}isEnabled(t=[]){if(!t.length)return!0;const e=new Date,[a,s]=[t[0].split(":"),t[1].split(":")];return!(e.getTime()>=new Date(e.getFullYear(),e.getMonth(),e.getDate(),+s[0],+s[1]).getTime())&&!(e.getTime()<=new Date(e.getFullYear(),e.getMonth(),e.getDate(),+a[0],+a[1]).getTime())}async render(){if(!this.agents.length)return;let t="";for(const e of this.agents)t+=this.getAgent(e);document.body.insertAdjacentHTML("beforeend",`${await this.getStyles()}\n\t\t\t<div class="wa-w">\n\t\t\t\t${this.getHeader()}\n\t\t\t\t<section class="wa-w_a">${t}</section>\n\t\t\t\t<button class="wa-w_b" title="${this.title}"><span class="wa-w-i wa-w-i-w"></span></button>\n\t\t\t</div>`),document.querySelector(".wa-w_b").addEventListener("click",()=>{"dataLayer"in window&&dataLayer.push({event:"ga_event",category:"Widget WhatsApp",action:"Click WhatsApp",label:"Click Icono"}),document.querySelector(".wa-w").classList.toggle("open")}),document.querySelector(".js-owaa").addEventListener("click",t=>{t.preventDefault(),this.openAgent(t.currentTarget.dataset)})}openAgent({phone:t="",title:e=""}){"dataLayer"in window&&dataLayer.push({event:"ga_event",category:"Widget WhatsApp",action:"Click WhatsApp",label:e}),window.open(`https://wa.me/${t.replace(/ /g,"").replace("+","")}`,"_blank")}}window.whatsapp=Whatsapp;
//# sourceMappingURL=whatsapp-widget.min.js.map